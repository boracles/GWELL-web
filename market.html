<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>장내자산관리공단 — Market</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="assets/css/style.css" />

    <!-- Chart.js + 금융 차트 플러그인 (캔들 차트용) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial"></script>

    <!-- Supabase (그대로) -->
    <script src="https://unpkg.com/@supabase/supabase-js@2.48.0/dist/umd/supabase.js"></script>
    <script src="assets/js/supabase-init.js"></script>

    <!-- 우리 시뮬레이션 로직 -->
    <script src="assets/js/market.js" defer></script>
  </head>
  <body class="market-body">
    <div class="market-shell">
      <!-- 맨 위 로고 바 -->
      <header class="market-header">
        <div class="market-logo">
          장내자산관리공단<span class="market-logo-sub">
            Gut Asset Management</span
          >
        </div>
        <div class="market-header-right" id="marketTime">
          <!-- 시간 표시 -->
        </div>
      </header>

      <!-- 상단 얇은 정보 스트립 (버전, 상태, ID 등) -->
      <div class="market-strip">
        <div class="strip-item">공단 실사 시스템 Ver 3.2</div>
        <div class="strip-item strip-center">실시간 장내 데이터 상장 상태</div>
        <div class="strip-item strip-right">
          <span id="stripId">ID GA-01</span>
          <span class="strip-dot">•</span>
          <span id="stripRef">Data Ref P-0001</span>
        </div>
      </div>

      <!-- 이슈/뉴스 바 -->
      <div class="issue-bar issue-bar--market">
        <span class="issue-tag" id="issueTag">ISSUE</span>
        <span class="issue-text" id="issueText">초기 이슈 로딩 중...</span>
      </div>

      <!-- 메인 영역: 위 요약 + 캔들 차트 -->
      <main class="market-main">
        <!-- 상단 티커 요약 -->
        <section class="ticker-row">
          <div class="ticker-left">
            <div class="ticker-id" id="tickerId">ID GA-01</div>
            <div class="ticker-price-row">
              <span class="ticker-price" id="tickerPrice">0.00</span>
              <span class="ticker-delta" id="tickerDelta">+0.00</span>
              <span class="ticker-rate" id="tickerRate">+0.00%</span>
            </div>
            <div class="ticker-sub" id="tickerSub">
              장내 자산 실시간 상장 상태.
            </div>
          </div>
          <div class="ticker-right">
            <div class="ticker-stat">
              <span class="label">Open</span>
              <span class="value" id="statOpen">-</span>
            </div>
            <div class="ticker-stat">
              <span class="label">High</span>
              <span class="value" id="statHigh">-</span>
            </div>
            <div class="ticker-stat">
              <span class="label">Low</span>
              <span class="value" id="statLow">-</span>
            </div>
            <div class="ticker-stat">
              <span class="label">52w High</span>
              <span class="value" id="stat52High">-</span>
            </div>
            <div class="ticker-stat">
              <span class="label">52w Low</span>
              <span class="value" id="stat52Low">-</span>
            </div>
          </div>
        </section>

        <!-- 차트 박스 -->
        <section class="chart-panel">
          <canvas id="priceChart"></canvas>
        </section>

        <!-- 맨 아래 안내 문구 -->
        <footer class="market-footer">
          공단 자산 거래소 상장 완료. 사회 순환 포인트 입금 후 거래소 존으로
          이동하여 가치 변동을 확인하십시오.
        </footer>
      </main>
    </div>
  </body>
</html>
